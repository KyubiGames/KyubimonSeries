<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Pokemon</title>
    <link rel="stylesheet" type="text/css" href="pokeone.css">
  </head>
  <body>
    <img src="Imagenes/T铆tulo.webp" alt="Title" id="Imagendelt铆tulo">

    <div class="search-container">
      <input type="search" placeholder="Buscar pokemon">
    </div>

    <button id="filter-btn">Filtros</button>

    <div class="filter-container" style="display:none"></div>

    <div id="pokemon-container"></div>

    <!--  M煤sica de fondo -->
    <audio id="audio" loop>
      <source src="Musica/Route 201 (Night).mp3" type="audio/mp3">
    </audio>

    <script>
    document.addEventListener("DOMContentLoaded", () => {
      const audio = document.getElementById("audio");

      //  Precarga el audio para que est茅 listo cuando el usuario toque
      audio.preload = "auto";
      audio.volume = 0.3; // volumen inicial m谩s bajo (opcional)

      //  Forzar descarga temprana (ayuda a reducir el retraso)
      audio.load();

      //  Mostrar un bot贸n de reproducci贸n visible en m贸viles
      const musicBtn = document.createElement("button");
      musicBtn.textContent = " Activar m煤sica";
      musicBtn.id = "music-btn";
      Object.assign(musicBtn.style, {
        position: "fixed",
        bottom: "20px",
        right: "20px",
        padding: "10px 16px",
        borderRadius: "10px",
        background: "#2b2b2b",
        color: "white",
        border: "none",
        cursor: "pointer",
        zIndex: "1000",
        fontSize: "16px",
      });
      document.body.appendChild(musicBtn);

      const startAudio = () => {
        audio.play().then(() => {
          musicBtn.remove(); // quita el bot贸n una vez que empieza
        }).catch(err => {
          console.log("Requiere interacci贸n directa del usuario:", err);
        });
      };

      //  En m贸viles es necesario tocar el bot贸n o la pantalla
      musicBtn.addEventListener("click", startAudio);

      //  En desktop tambi茅n permitimos clics en cualquier parte
      document.addEventListener("click", startAudio, { once: true });
    });
    </script>


    <script>
      // Tu c贸digo original de los filtros
      document.addEventListener("DOMContentLoaded", () => {
        const filterButton = document.getElementById("filter-btn");
        const filterContainer = document.querySelector(".filter-container");

        const tipos = [
          "Alfab茅tico", "Acero", "Agua", "Bicho", "Drag贸n", "El茅ctrico", "Fantasma", "Fuego",
          "Hada", "Hielo", "Lucha", "Normal", "Planta", "Ps铆quico", "Roca",
          "Siniestro", "Tierra", "Veneno", "Volador"
        ];

        tipos.forEach(tipo => {
          const img = document.createElement("img");
          img.src = `Imagenes/Tipos/${tipo}.webp`;
          img.alt = tipo;
          filterContainer.appendChild(img);
        });

        filterButton.addEventListener("click", () => {
          if (filterContainer.style.display === "none" || filterContainer.style.display === "") {
            filterContainer.style.display = "flex";
          } else {
            filterContainer.style.display = "none";
          }
        });
      });
    </script>

    <script src="pokeone.js"></script>
  </body>
</html>
