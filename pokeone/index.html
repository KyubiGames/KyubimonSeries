<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Pokemon</title>
    <link rel="stylesheet" type="text/css" href="pokeone.css">
  </head>
  <body>
    <img src="Imagenes/Título.webp" alt="Title" id="Imagendeltítulo">

    <div class="search-container">
      <input type="search" placeholder="Buscar pokemon">
    </div>

    <button id="filter-btn">Filtros</button>

    <div class="filter-container" style="display:none"></div>

    <div id="pokemon-container"></div>

    <!-- 🎵 Música de fondo -->
    <audio id="audio" loop>
      <source src="Musica/Route 201 (Night).mp3" type="audio/mp3">
    </audio>

    <script>
    document.addEventListener("DOMContentLoaded", () => {
      const audio = document.getElementById("audio");

      // Detectar si es un dispositivo móvil
      const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

      if (isMobile) {
        // 🎵 En móviles: mostrar botón manual
        const musicBtn = document.createElement("button");
        musicBtn.textContent = "🎵 Reproducir música";
        Object.assign(musicBtn.style, {
          position: "fixed",
          top: "60px", // 🔹 lo movemos más abajo del título
          padding: "8px 14px",
          borderRadius: "8px",
          background: "rgba(43, 43, 43, 0.85)",
          color: "white",
          border: "1px solid #555",
          cursor: "pointer",
          zIndex: "1000",
          fontSize: "15px",
          backdropFilter: "blur(4px)",
          transition: "all 0.2s ease",
        });

        // 🧠 Posicionar el botón justo debajo del título
        const titleImg = document.getElementById("Imagendeltítulo");
        titleImg.addEventListener("load", () => {
          const rect = titleImg.getBoundingClientRect();
          musicBtn.style.top = `${rect.bottom + 10}px`;
        });

        // Acción al hacer clic
        musicBtn.addEventListener("click", () => {
          audio.play().then(() => {
            musicBtn.remove();
          }).catch(err => console.log("No se pudo reproducir el audio:", err));
        });

        document.body.appendChild(musicBtn);
      } else {
        // 💻 En PC: reproducir al primer clic o scroll
        const startAudio = () => {
          audio.play().catch(err => {
            console.log("Esperando interacción del usuario para reproducir música.");
          });
          document.removeEventListener("click", startAudio);
          document.removeEventListener("scroll", startAudio);
        };

        document.addEventListener("click", startAudio);
        document.addEventListener("scroll", startAudio);
      }
    });
</script>

    <script>
      // Tu código original de los filtros
      document.addEventListener("DOMContentLoaded", () => {
        const filterButton = document.getElementById("filter-btn");
        const filterContainer = document.querySelector(".filter-container");

        const tipos = [
          "Alfabético", "Acero", "Agua", "Bicho", "Dragón", "Eléctrico", "Fantasma", "Fuego",
          "Hada", "Hielo", "Lucha", "Normal", "Planta", "Psíquico", "Roca",
          "Siniestro", "Tierra", "Veneno", "Volador"
        ];

        tipos.forEach(tipo => {
          const img = document.createElement("img");
          img.src = `Imagenes/Tipos/${tipo}.webp`;
          img.alt = tipo;
          filterContainer.appendChild(img);
        });

        filterButton.addEventListener("click", () => {
          if (filterContainer.style.display === "none" || filterContainer.style.display === "") {
            filterContainer.style.display = "flex";
          } else {
            filterContainer.style.display = "none";
          }
        });
      });
    </script>

    <script src="pokeone.js"></script>
  </body>
</html>
